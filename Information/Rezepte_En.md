# Information about the recipes

The individual recipe segments, the structure and the outsourcing of these recipes are shown below.

## Existing recipe segments

The recipes depend on the devices. Except for the Eurotherm device, all recipes are structured the same. There are therefore the following types of ramps:

s 	- jump  
r 	- ramp

Eurotherm temperature specific:    
er 	- Eurotherm's own ramp  
op 	- jump in performance in a temperature recipe  
opr - release ramp in a temperature recipe  

Only s and r are available for Eurotherm performance, TruHeat, Nemo drives (stroke, rotation) and PI axis!

```
Jump: 			    SN: t ; ST  ; s
Ramp: 			    SN: t ; TS  ; r   ; RTI
Eurotherm ramp: 	SN: t ; TS  ; er  ; m
Power Jump: 		SN: t ; STT ; op  ; STP
Power ramp: 		SN: t ; TST ; opr ; TSP; RTI ; SVR
```
Legend:
- SN - step number
- t - time
- ST - setpoint
- STT - setpoint temperatur
- STP - setpoint power
- TS - target setpoint
- TST - target setpoint temperatur
- TSP - target setpoint power
- RTI - ramp jump time interval
- m - pitch
- SVR - start value ramp

### Description:
1. Time: 			
    - How long the recipe step lasts, unit seconds
2.  Setpoint: 			
    - Value to which the jump should be made.
3.  Target setpoint: 		
    - end of ramp
4. Pitch: 			
    - steepness of the ramp
	    - er: e.g. 0.01 --> transfer to Eurotherm, meaning 0.01°C/s
5. Ramp jump time interval: 	
    - Distance between the ramp jumps
    - Examples:
	    - r:   
            - Specification in Config: 1 s 
            - with time = 10 s and target setpoint = 100°C 
            - starting temperature: 30°C   
            -> 10 s/1 s = 10   
            -> (100°C - 30°C)/10 s = 7 °C (jumps)   
            -> A jump every second
	    - opr: 
            - Specification in Config: 2 s 
            - with time = 10 s and target setpoint = 100 %
            - start power: 0 %    
            -> 10 s/2 s = 5     
            -> (100 % -  0 %)/5 s  = 20 % (jumps)    
            -> A jump every 20 seconds
6. Start value: 			
    - start of the ramp

## Particularities:
- Performance recipes at Eurotherm are generated by s and r. If a performance is to be changed in a temperature recipe, then op and opr are used there.
- In the case of "power jump" the ACTUAL value can also be specified in the "setpoint power". This only switches the Eurotherm mode to manual. The current power value is kept as the actual value/setpoint.
- If nothing can be specified for "Power ramp" in "Start value ramp", then the power ramp starts at zero.
- A temperature jump is also triggered with "power jump" and "power ramp".

## Outsourcing of recipes

The folder **rezepte** is intended for VIFCON recipes. The format of these files is Yaml (.yml).
These recipes are called from the config file as follows:

```
dat: file name
```

The **dat** must be included. The configuration of the recipes can now also be carried out via a separate file. For this purpose, three things must be adhered to:
1. step must be called 'dat'!
2. Recipe file must be in the 'vifcon/rezepte/' folder!
3. Only the steps can be in the file!
4. The normal config recipe steps must never be called dat!

- Example:
	 - Config.yml:
        ```
            recipe_Ram_3:
         	    dat: recipe.yml
        ```
    - recipe.yml:
        ```
            n0: 3600 ; 500 ; er  ; 0.133
            n1: 600  ; 500 ; s
            n2: 600  ; 500 ; op  ; 20
            n3: 1200 ; 200 ; r   ; 3
            n4: 600  ; 200 ; opr ; 5 ; 1 ; 20
            n5: 600  ; 20  ; er  ; 0.3
        ```

The example also shows with n0 to n5 what it should look like in the config file. The user can specify where the recipe should be! The example shown can be found in figure [Beispiel_Rezepte.png](../Bilder/Beispiel_Rezepte.png).